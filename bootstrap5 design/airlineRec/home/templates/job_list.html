{% extends "base.html" %} {% load django_bootstrap5 %} {% block content %}
<div class="container py-5">
  <!-- Hero section -->
  <div class="bg-light rounded-3 p-5 mb-5 shadow-sm">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <h1 class="display-5 fw-bold text-airline mb-3">
          <i class="fas fa-briefcase me-3"></i>Available Jobs
        </h1>
        <p class="lead">
          Discover exciting career opportunities with our airline. Find the
          perfect position that matches your skills and aspirations.
        </p>
      </div>
      <div class="col-lg-4 text-end">
        {% if user.role == 'hr_coordinator' %}
        <a href="{% url 'create_job' %}" class="btn btn-lg btn-airline">
          <i class="fas fa-plus-circle me-2"></i>Post New Job
        </a>
        {% endif %}
      </div>
    </div>
  </div>

  {% if messages %}
  <div class="messages mb-4">
    {% for message in messages %}
    <div
      class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm"
      role="alert"
    >
      {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %}
  </div>
  {% endif %} {% if jobs %}
  <div class="row g-4">
    {% for job in jobs %}
    <div class="col-md-6">
      <div class="card h-100 shadow-sm border-0 hover-shadow">
        <div class="card-header bg-airline text-white py-3">
          <h4 class="card-title mb-0">{{ job.title }}</h4>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <div class="d-flex align-items-center mb-2">
              <i class="fas fa-building me-2 text-airline"></i>
              <span><strong>Department:</strong> {{ job.department }}</span>
            </div>
            <div class="d-flex align-items-center mb-2">
              <i class="fas fa-map-marker-alt me-2 text-airline"></i>
              <span><strong>Location:</strong> {{ job.location }}</span>
            </div>
            {% if job.salary_range %}
            <div class="d-flex align-items-center mb-2">
              <i class="fas fa-money-bill-wave me-2 text-airline"></i>
              <span><strong>Salary Range:</strong> {{ job.salary_range }}</span>
            </div>
            {% endif %}
            <div class="d-flex align-items-center">
              <i class="fas fa-hourglass-end me-2 text-airline"></i>
              <span><strong>Deadline:</strong> {{ job.deadline_str }}</span>
            </div>
          </div>
        </div>
        <div class="card-footer bg-light d-flex justify-content-between py-3">
          <a href="{% url 'job_detail' job.id %}" class="btn btn-airline">
            <i class="fas fa-search me-2"></i>View Details
          </a>

          {% if user.role == 'hr_coordinator' %}
          <a
            href="{% url 'delete_job' job.id %}"
            class="btn btn-outline-danger"
          >
            <i class="fas fa-trash-alt me-2"></i>Delete
          </a>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="alert alert-info shadow-sm">
    <i class="fas fa-info-circle me-2"></i>No job postings available at the
    moment.
  </div>
  {% endif %}

  <!-- Job search tips -->
  <div class="mt-5 p-4 bg-light rounded-3 shadow-sm">
    <h4 class="border-bottom pb-2 mb-3">
      <i class="fas fa-lightbulb text-warning me-2"></i>Job Search Tips
    </h4>
    <div class="row">
      <div class="col-md-4 mb-3">
        <div class="d-flex">
          <div class="me-3">
            <div
              class="bg-airline text-white rounded-circle d-flex align-items-center justify-content-center"
              style="width: 40px; height: 40px"
            >
              <i class="fas fa-file-alt"></i>
            </div>
          </div>
          <div>
            <h5>Complete Your Profile</h5>
            <p class="text-muted small">
              Ensure your profile is complete with all your skills and
              experience to improve your chances.
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="d-flex">
          <div class="me-3">
            <div
              class="bg-airline text-white rounded-circle d-flex align-items-center justify-content-center"
              style="width: 40px; height: 40px"
            >
              <i class="fas fa-paper-plane"></i>
            </div>
          </div>
          <div>
            <h5>Customize Applications</h5>
            <p class="text-muted small">
              Tailor your cover letter for each position to highlight relevant
              experience.
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="d-flex">
          <div class="me-3">
            <div
              class="bg-airline text-white rounded-circle d-flex align-items-center justify-content-center"
              style="width: 40px; height: 40px"
            >
              <i class="fas fa-user-check"></i>
            </div>
          </div>
          <div>
            <h5>Prepare for Interviews</h5>
            <p class="text-muted small">
              Research the company and prepare answers to common aviation
              industry questions.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .text-airline {
    color: #0056b3;
  }

  .bg-airline {
    background-color: #0056b3;
  }

  .btn-airline {
    background-color: #0056b3;
    color: white;
  }

  .btn-airline:hover {
    background-color: #004494;
    color: white;
  }

  .hover-shadow:hover {
    transform: translateY(-5px);
    transition: transform 0.3s ease;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
  }
</style>
{% endblock %}
