{% extends "base.html" %} {% block content %}
<div class="container mt-4">
  <h1>Post a New Job</h1>

  {% if form.errors %}
  <div class="alert alert-danger">
    <strong>Please correct the errors below.</strong>
  </div>
  {% endif %}

  <form method="POST">
    {% csrf_token %}

    <div class="mb-3">
      <label for="id_title">Title</label>
      <input
        type="text"
        name="title"
        id="id_title"
        class="form-control {% if form.title.errors %}is-invalid{% endif %}"
        value="{{ form.title.value|default:'' }}"
      />
      {% if form.title.errors %}
      <div class="invalid-feedback">
        {% for error in form.title.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="id_department">Department</label>
      <input
        type="text"
        name="department"
        id="id_department"
        class="form-control {% if form.department.errors %}is-invalid{% endif %}"
        value="{{ form.department.value|default:'' }}"
      />
      {% if form.department.errors %}
      <div class="invalid-feedback">
        {% for error in form.department.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="id_location">Location</label>
      <input
        type="text"
        name="location"
        id="id_location"
        class="form-control {% if form.location.errors %}is-invalid{% endif %}"
        value="{{ form.location.value|default:'' }}"
      />
      {% if form.location.errors %}
      <div class="invalid-feedback">
        {% for error in form.location.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="id_salary_range">Salary Range</label>
      <input
        type="text"
        name="salary_range"
        id="id_salary_range"
        class="form-control {% if form.salary_range.errors %}is-invalid{% endif %}"
        value="{{ form.salary_range.value|default:'' }}"
      />
      {% if form.salary_range.errors %}
      <div class="invalid-feedback">
        {% for error in form.salary_range.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="id_description">Description</label>
      <textarea
        name="description"
        id="id_description"
        class="form-control {% if form.description.errors %}is-invalid{% endif %}"
        rows="4"
      >
{{ form.description.value|default:'' }}</textarea
      >
      {% if form.description.errors %}
      <div class="invalid-feedback">
        {% for error in form.description.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="id_requirements">Requirements</label>
      <textarea
        name="requirements"
        id="id_requirements"
        class="form-control {% if form.requirements.errors %}is-invalid{% endif %}"
        rows="4"
      >
{{ form.requirements.value|default:'' }}</textarea
      >
      {% if form.requirements.errors %}
      <div class="invalid-feedback">
        {% for error in form.requirements.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label>Required Skills</label>
      <div class="{% if form.required_skills.errors %}is-invalid{% endif %}">
        {{ form.required_skills }}
      </div>
      {% if form.required_skills.errors %}
      <div class="invalid-feedback">
        {% for error in form.required_skills.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="id_deadline">Deadline</label>
      <input
        type="date"
        name="deadline"
        id="id_deadline"
        class="form-control {% if form.deadline.errors %}is-invalid{% endif %}"
        value="{{ form.deadline.value|date:'Y-m-d'|default:'' }}"
      />
      {% if form.deadline.errors %}
      <div class="invalid-feedback">
        {% for error in form.deadline.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
    <a href="{% url 'job_list' %}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
